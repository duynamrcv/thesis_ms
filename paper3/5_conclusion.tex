\section{Conclusion}\label{sec:conclusion}
In this work, we have presented an optimal predictive reconfiguration control method to guide a swarm of robots through cluttered environments with varying path widths. The controller features two modes, \textit{``formation''} and \textit{``tailgating''}, and a scaling factor that enable the swarm to adapt its shape to environmental conditions. A set of cost functions is introduced to enforce formation constraints and safety requirements while enabling state prediction for enhanced control performance. Evaluation results show that the proposed controller effectively navigates the robot swarm through complex environments with narrow passages. The control performance is superior in most evaluation metrics compared to two other state-of-the-art methods. Software-in-the-loop tests further confirm the validity and practicability of the proposed controller.